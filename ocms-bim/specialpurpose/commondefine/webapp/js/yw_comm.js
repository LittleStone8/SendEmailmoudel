!function(){function n(n,e,r){var t,o,i=this,s=[];if(_.isArray(e))for(t=0,o=e.length;t<o;t++)r?s=s.concat(i(n+"["+t+"]",e[t],!0)):s.push({name:n,value:e[t]});else if(_.isObject(e))for(t in e)e.hasOwnProperty(t)&&(r?s=s.concat(i(n+"["+t+"]",e[t],!0)):s.push({name:n,value:e[t]}));else s.push({name:n,value:e});return s}function e(e,r){var t,o,i,s,a,u=[],h=[];for(t in e)e.hasOwnProperty(t)&&(u=u.concat(n(t,e[t],r)));for(o=0,i=u.length;o<i;o++)s=u[o],a=s.value,_.isEmpty(a)?a="":_.isDate(a)&&(a=a.getTime()),h.push(encodeURIComponent(s.name)+"="+encodeURIComponent(String(a)));return h.join("&")}function r(n,e){var r,t,o,i,s,a,u,h,f,c,l,p,g,m,y=n.replace(/^\?/,"").split("&"),v={};for(s=0,a=y.length;s<a;s++)if(u=y[s],u.length>0)if(t=u.split("="),o=decodeURIComponent(t[0]),i=void 0!==t[1]?decodeURIComponent(t[1]):"",e){if(c=o.match(/(\[):?([^\]]*)\]/g),!(l=o.match(/^([^\[]+)/)))throw new Error('query string given, failed parsing name from "'+u+'"');if(o=l[0],p=[],null===c){v[o]=i;continue}for(h=0,f=c.length;h<f;h++)g=c[h],g=2===g.length?"":g.substring(1,g.length-1),p.push(g);for(p.unshift(o),r=v,h=0,f=p.length;h<f;h++)g=p[h],h===f-1?_.isArray(r)&&""===g?r.push(i):r[g]=i:(void 0!==r[g]&&"string"!=typeof r[g]||(m=p[h+1],r[g]=Ext.isNumeric(m)||""===m?[]:{}),r=r[g])}else v.hasOwnProperty(o)?(_.isArray(v[o])||(v[o]=[v[o]]),v[o].push(i)):v[o]=i;return v}var t={};t.fromQueryString=r,t.toQueryString=e,window.yi_comm=t}();