ALTER TABLE `PRODUCT` 
ADD COLUMN `CREATED_USER` VARCHAR(45) NULL AFTER `IS_ACTIVE`,
ADD COLUMN `UPDATED_DATE` DATETIME NULL AFTER `CREATED_USER`,
ADD COLUMN `UPDATED_USER` VARCHAR(45) NULL AFTER `UPDATED_DATE`;



ALTER TABLE `PRODUCT_ASSOC` 
ADD COLUMN `P_ID` INT(11) NULL AFTER `SPEC_ROU_WEFF_ID`,
ADD COLUMN `P_ID_TO` INT(11) NULL AFTER `P_ID`,
ADD COLUMN `CREATED_DATE` DATETIME NULL AFTER `P_ID_TO`,
ADD COLUMN `CREATED_USER` VARCHAR(45) NULL AFTER `CREATED_DATE`,
ADD COLUMN `UPDATED_DATE` DATETIME NULL AFTER `CREATED_USER`,
ADD COLUMN `UPDATED_USER` VARCHAR(45) NULL AFTER `UPDATED_DATE`;




ALTER TABLE `PRODUCT_CATEGORY` 
ADD COLUMN `PCT_ID` INT(11) NULL AFTER `CREATED_TX_STAMP`,
ADD COLUMN `CREATED_DATE` DATETIME NULL AFTER `PCT_ID`,
ADD COLUMN `CREATED_USER` VARCHAR(45) NULL AFTER `CREATED_DATE`,
ADD COLUMN `UPDATED_DATE` DATETIME NULL AFTER `CREATED_USER`,
ADD COLUMN `UPDATED_USER` VARCHAR(45) NULL AFTER `UPDATED_DATE`;



ALTER TABLE `PRODUCT_CATEGORY_MEMBER` 
ADD COLUMN `P_ID` INT(11) NULL AFTER `CREATED_TX_STAMP`,
ADD COLUMN `PC_ID` INT(11) NULL AFTER `P_ID`,
ADD COLUMN `CREATED_DATE` DATETIME NULL AFTER `PC_ID`,
ADD COLUMN `CREATED_USER` VARCHAR(45) NULL AFTER `CREATED_DATE`,
ADD COLUMN `UPDATED_DATE` DATETIME NULL AFTER `CREATED_USER`,
ADD COLUMN `UPDATED_USER` VARCHAR(45) NULL AFTER `UPDATED_DATE`;





ALTER TABLE `PRODUCT_CATEGORY_TYPE` 
ADD COLUMN `CREATED_DATE` DATETIME NULL AFTER `CREATED_TX_STAMP`,
ADD COLUMN `CREATED_USER` VARCHAR(45) NULL AFTER `CREATED_DATE`,
ADD COLUMN `UPDATED_DATE` DATETIME NULL AFTER `CREATED_USER`,
ADD COLUMN `UPDATED_USER` VARCHAR(45) NULL AFTER `UPDATED_DATE`;




ALTER TABLE `PRODUCT_FEATURE` 
ADD COLUMN `PFT_ID` INT(11) NULL AFTER `CREATED_TX_STAMP`,
ADD COLUMN `CREATED_DATE` DATETIME NULL AFTER `PFT_ID`,
ADD COLUMN `CREATED_USER` VARCHAR(45) NULL AFTER `CREATED_DATE`,
ADD COLUMN `UPDATED_DATE` DATETIME NULL AFTER `CREATED_USER`,
ADD COLUMN `UPDATED_USER` VARCHAR(45) NULL AFTER `UPDATED_DATE`;






ALTER TABLE `PRODUCT_FEATURE_APPL` 
ADD COLUMN `PF_ID` INT(11) NULL AFTER `CREATED_TX_STAMP`,
ADD COLUMN `P_ID` INT(11) NULL AFTER `PF_ID`,
ADD COLUMN `CREATED_DATE` DATETIME NULL AFTER `P_ID`,
ADD COLUMN `CREATED_USER` VARCHAR(45) NULL AFTER `CREATED_DATE`,
ADD COLUMN `UPDATED_DATE` DATETIME NULL AFTER `CREATED_USER`,
ADD COLUMN `UPDATED_USER` VARCHAR(45) NULL AFTER `UPDATED_DATE`;




ALTER TABLE `PRODUCT_FEATURE_TYPE` 
ADD COLUMN `CREATED_DATE` DATETIME NULL AFTER `CREATED_TX_STAMP`,
ADD COLUMN `CREATED_USER` VARCHAR(45) NULL AFTER `CREATED_DATE`,
ADD COLUMN `UPDATED_DATE` DATETIME NULL AFTER `CREATED_USER`,
ADD COLUMN `UPDATED_USER` VARCHAR(45) NULL AFTER `UPDATED_DATE`;



ALTER TABLE `PRODUCT_PRICE` 
ADD COLUMN `P_ID` INT(11) NULL AFTER `CREATED_TX_STAMP`,
ADD COLUMN `CREATED_USER` VARCHAR(45) NULL AFTER `P_ID`,
ADD COLUMN `UPDATED_DATE` DATETIME NULL AFTER `CREATED_USER`,
ADD COLUMN `UPDATED_USER` VARCHAR(45) NULL AFTER `UPDATED_DATE`;




ALTER TABLE `UOM` 
ADD COLUMN `CREATED_DATE` DATETIME NULL AFTER `CREATED_TX_STAMP`,
ADD COLUMN `CREATED_USER` VARCHAR(45) NULL AFTER `CREATED_DATE`,
ADD COLUMN `UPDATED_DATE` DATETIME NULL AFTER `CREATED_USER`,
ADD COLUMN `UPDATED_USER` VARCHAR(45) NULL AFTER `UPDATED_DATE`;


CREATE TABLE PRODUCT_KEYWORD_BACk LIKE PRODUCT_KEYWORD; 
INSERT PRODUCT_KEYWORD_BACk SELECT * FROM PRODUCT_KEYWORD;
TRUNCATE TABLE PRODUCT_KEYWORD;


CREATE TABLE PRODUCT_ASSOC_BACk LIKE PRODUCT_ASSOC; 
INSERT PRODUCT_ASSOC_BACk SELECT * FROM PRODUCT_ASSOC;
TRUNCATE TABLE PRODUCT_ASSOC;
ALTER TABLE `PRODUCT_ASSOC` 
ADD COLUMN `ID` INT(11) NOT NULL AUTO_INCREMENT FIRST,
DROP PRIMARY KEY,
ADD PRIMARY KEY (`ID`, `PRODUCT_ID`, `PRODUCT_ID_TO`, `PRODUCT_ASSOC_TYPE_ID`, `FROM_DATE`);
INSERT INTO `PRODUCT_ASSOC`
(`PRODUCT_ID`,
`PRODUCT_ID_TO`,
`PRODUCT_ASSOC_TYPE_ID`,
`FROM_DATE`,
`THRU_DATE`,
`SEQUENCE_NUM`,
`REASON`,
`QUANTITY`,
`SCRAP_FACTOR`,
`INSTRUCTION`,
`ROUTING_WORK_EFFORT_ID`,
`ESTIMATE_CALC_METHOD`,
`RECURRENCE_INFO_ID`,
`LAST_UPDATED_STAMP`,
`LAST_UPDATED_TX_STAMP`,
`CREATED_STAMP`,
`CREATED_TX_STAMP`,
`SPEC_ROU_WEFF_ID`,
`P_ID`,
`P_ID_TO`,
`CREATED_DATE`,
`CREATED_USER`,
`UPDATED_DATE`,
`UPDATED_USER`)
select `PRODUCT_ID`,
`PRODUCT_ID_TO`,
`PRODUCT_ASSOC_TYPE_ID`,
`FROM_DATE`,
`THRU_DATE`,
`SEQUENCE_NUM`,
`REASON`,
`QUANTITY`,
`SCRAP_FACTOR`,
`INSTRUCTION`,
`ROUTING_WORK_EFFORT_ID`,
`ESTIMATE_CALC_METHOD`,
`RECURRENCE_INFO_ID`,
`LAST_UPDATED_STAMP`,
`LAST_UPDATED_TX_STAMP`,
`CREATED_STAMP`,
`CREATED_TX_STAMP`,
`SPEC_ROU_WEFF_ID`,
`P_ID`,
`P_ID_TO`,
`CREATED_DATE`,
`CREATED_USER`,
`UPDATED_DATE`,
`UPDATED_USER` from PRODUCT_ASSOC_BACk;



CREATE TABLE PRODUCT_CATEGORY_MEMBER_BACk LIKE PRODUCT_CATEGORY_MEMBER; 
INSERT PRODUCT_CATEGORY_MEMBER_BACk SELECT * FROM PRODUCT_CATEGORY_MEMBER;
TRUNCATE TABLE PRODUCT_CATEGORY_MEMBER;
ALTER TABLE `PRODUCT_CATEGORY_MEMBER` 
ADD COLUMN `ID` INT(11) NOT NULL AUTO_INCREMENT FIRST,
DROP PRIMARY KEY,
ADD PRIMARY KEY (`ID`, `PRODUCT_CATEGORY_ID`, `PRODUCT_ID`, `FROM_DATE`);
INSERT INTO `PRODUCT_CATEGORY_MEMBER`
(
`PRODUCT_CATEGORY_ID`,
`PRODUCT_ID`,
`FROM_DATE`,
`THRU_DATE`,
`COMMENTS`,
`SEQUENCE_NUM`,
`QUANTITY`,
`LAST_UPDATED_STAMP`,
`LAST_UPDATED_TX_STAMP`,
`CREATED_STAMP`,
`CREATED_TX_STAMP`,
`P_ID`,
`PC_ID`,
`CREATED_DATE`,
`CREATED_USER`,
`UPDATED_DATE`,
`UPDATED_USER`)
select `PRODUCT_CATEGORY_ID`,
`PRODUCT_ID`,
`FROM_DATE`,
`THRU_DATE`,
`COMMENTS`,
`SEQUENCE_NUM`,
`QUANTITY`,
`LAST_UPDATED_STAMP`,
`LAST_UPDATED_TX_STAMP`,
`CREATED_STAMP`,
`CREATED_TX_STAMP`,
`P_ID`,
`PC_ID`,
`CREATED_DATE`,
`CREATED_USER`,
`UPDATED_DATE`,
`UPDATED_USER` FROM PRODUCT_CATEGORY_MEMBER_BACk;



CREATE TABLE PRODUCT_FEATURE_APPL_BACk LIKE PRODUCT_FEATURE_APPL; 
INSERT PRODUCT_FEATURE_APPL_BACk SELECT * FROM PRODUCT_FEATURE_APPL;
ALTER TABLE `PRODUCT_FEATURE_APPL_ATTR` 
DROP FOREIGN KEY `PRODUCT_FEATURE_APPL_ATTR_ibfk_1`;
TRUNCATE TABLE PRODUCT_FEATURE_APPL;
ALTER TABLE `PRODUCT_FEATURE_APPL` 
ADD COLUMN `ID` INT(11) NOT NULL AUTO_INCREMENT FIRST,
DROP PRIMARY KEY,
ADD PRIMARY KEY (`ID`, `PRODUCT_ID`, `PRODUCT_FEATURE_ID`, `FROM_DATE`);
INSERT INTO `PRODUCT_FEATURE_APPL`
(
`PRODUCT_ID`,
`PRODUCT_FEATURE_ID`,
`PRODUCT_FEATURE_APPL_TYPE_ID`,
`FROM_DATE`,
`THRU_DATE`,
`SEQUENCE_NUM`,
`AMOUNT`,
`RECURRING_AMOUNT`,
`LAST_UPDATED_STAMP`,
`LAST_UPDATED_TX_STAMP`,
`CREATED_STAMP`,
`CREATED_TX_STAMP`,
`PF_ID`,
`P_ID`,
`CREATED_DATE`,
`CREATED_USER`,
`UPDATED_DATE`,
`UPDATED_USER`)
select `PRODUCT_ID`,
`PRODUCT_FEATURE_ID`,
`PRODUCT_FEATURE_APPL_TYPE_ID`,
`FROM_DATE`,
`THRU_DATE`,
`SEQUENCE_NUM`,
`AMOUNT`,
`RECURRING_AMOUNT`,
`LAST_UPDATED_STAMP`,
`LAST_UPDATED_TX_STAMP`,
`CREATED_STAMP`,
`CREATED_TX_STAMP`,
`PF_ID`,
`P_ID`,
`CREATED_DATE`,
`CREATED_USER`,
`UPDATED_DATE`,
`UPDATED_USER` from PRODUCT_FEATURE_APPL_BACk;



CREATE TABLE PRODUCT_BACk LIKE PRODUCT; 
INSERT PRODUCT_BACk SELECT * FROM PRODUCT;

ALTER TABLE `AGREEMENT` 
DROP FOREIGN KEY `AGREEMENT_ibfk_2`;
ALTER TABLE `AGREEMENT` 
DROP INDEX `AGRMNT_PRODUCT` ;

ALTER TABLE `AGREEMENT_PRODUCT_APPL` 
DROP FOREIGN KEY `AGREEMENT_PRODUCT_APPL_ibfk_2`;
ALTER TABLE `AGREEMENT_PRODUCT_APPL` 
DROP INDEX `AGRMNT_PRDA_PRD`;

ALTER TABLE `AGREEMENT_TERM` 
DROP FOREIGN KEY `AGREEMENT_TERM_ibfk_8`;
ALTER TABLE `AGREEMENT_TERM` 
DROP INDEX `AGRTERM_PRODUCT`;

ALTER TABLE `AMAZON_PRODUCT` 
DROP FOREIGN KEY `AMAZON_PRODUCT_ibfk_4`;

ALTER TABLE `CART_ABANDONED_LINE` 
DROP FOREIGN KEY `CART_ABANDONED_LINE_ibfk_1`;
ALTER TABLE `CART_ABANDONED_LINE` 
DROP INDEX `CART_ABLN_PRD` ;

ALTER TABLE `COMMUNICATION_EVENT_PRODUCT` 
DROP FOREIGN KEY `COMMUNICATION_EVENT_PRODUCT_ibfk_2`;

ALTER TABLE `COST_COMPONENT` 
DROP FOREIGN KEY `COST_COMPONENT_ibfk_7`;
ALTER TABLE `COST_COMPONENT` 
DROP INDEX `COST_COMP_PRODUCT` ;


ALTER TABLE `CUST_REQUEST_ITEM` 
DROP FOREIGN KEY `CUST_REQUEST_ITEM_ibfk_2`;
ALTER TABLE `CUST_REQUEST_ITEM` 
DROP INDEX `CUST_REQITM_PRD` ;

ALTER TABLE `EBAY_PRODUCT_LISTING` 
DROP FOREIGN KEY `EBAY_PRODUCT_LISTING_ibfk_2`;
ALTER TABLE `EBAY_PRODUCT_LISTING` 
DROP INDEX `EBAY_PRODUCT` ;

ALTER TABLE `FIXED_ASSET` 
DROP FOREIGN KEY `FIXED_ASSET_ibfk_4`;
ALTER TABLE `FIXED_ASSET` 
DROP INDEX `FIXEDAST_IOPROD` ;

ALTER TABLE `FIXED_ASSET_PRODUCT` 
DROP FOREIGN KEY `FIXED_ASSET_PRODUCT_ibfk_3`;
ALTER TABLE `FIXED_ASSET_PRODUCT` 
DROP INDEX `FIXDASTPRD_PRD` ;

ALTER TABLE `GOOD_IDENTIFICATION` 
DROP FOREIGN KEY `GOOD_IDENTIFICATION_ibfk_1`;
ALTER TABLE `GOOD_IDENTIFICATION` 
DROP INDEX `GOOD_ID_PRODICT` ;

ALTER TABLE `INVENTORY_EVENT_PLANNED` 
DROP FOREIGN KEY `INVENTORY_EVENT_PLANNED_ibfk_2`;

ALTER TABLE `INVENTORY_ITEM` 
DROP FOREIGN KEY `INVENTORY_ITEM_ibfk_18`;
ALTER TABLE `INVENTORY_ITEM` 
DROP INDEX `INV_ITEM_PRODUCT`;


ALTER TABLE `INVENTORY_ITEM_TEMP_RES` 
DROP FOREIGN KEY `INVENTORY_ITEM_TEMP_RES_ibfk_2`;
ALTER TABLE `INVENTORY_ITEM_TEMP_RES` 
DROP INDEX `INV_ITEM_TR_PROD` ;

ALTER TABLE `INVOICE_ITEM` 
DROP FOREIGN KEY `INVOICE_ITEM_ibfk_7`;
ALTER TABLE `INVOICE_ITEM` 
DROP INDEX `INVCE_ITM_PROD` ;

ALTER TABLE `MRP_EVENT` 
DROP FOREIGN KEY `MRP_EVENT_ibfk_2`;
ALTER TABLE `MRP_EVENT` 
DROP INDEX `MRPEV_PROD` ;

ALTER TABLE `MRP_INVENTORY_EVENT` 
DROP FOREIGN KEY `MRP_INVENTORY_EVENT_ibfk_2`;

ALTER TABLE `ORDER_ITEM` 
DROP FOREIGN KEY `ORDER_ITEM_ibfk_7`;
ALTER TABLE `ORDER_ITEM` 
DROP INDEX `ORDER_ITEM_PRODUCT` ;

ALTER TABLE `ORDER_SUMMARY_ENTRY` 
DROP FOREIGN KEY `ORDER_SUMMARY_ENTRY_ibfk_2`;
ALTER TABLE `ORDER_SUMMARY_ENTRY` 
DROP INDEX `ORDER_SMENT_PROD` ;

ALTER TABLE `PARTY_NEED` 
DROP FOREIGN KEY `PARTY_NEED_ibfk_4`;
ALTER TABLE `PARTY_NEED` 
DROP INDEX `PARTY_NEED_PROD` ;

ALTER TABLE `PRODUCT_AVERAGE_COST` 
DROP FOREIGN KEY `PRODUCT_AVERAGE_COST_ibfk_2`;
ALTER TABLE `PRODUCT_AVERAGE_COST` 
DROP INDEX `AVG_COST_PROD` ;

ALTER TABLE `PRODUCT_CALCULATED_INFO` 
DROP FOREIGN KEY `PRODUCT_CALCULATED_INFO_ibfk_1`;

ALTER TABLE `PRODUCT_CONFIG` 
DROP FOREIGN KEY `PRODUCT_CONFIG_ibfk_2`;

ALTER TABLE `PRODUCT_CONFIG_PRODUCT` 
DROP FOREIGN KEY `PRODUCT_CONFIG_PRODUCT_ibfk_3`;
ALTER TABLE `PRODUCT_CONFIG_PRODUCT` 
DROP INDEX `PROD_CONFP_PROD`;

ALTER TABLE `PRODUCT_CONFIG_STATS` 
DROP FOREIGN KEY `PRODUCT_CONFIG_STATS_ibfk_1`;
ALTER TABLE `PRODUCT_CONFIG_STATS` 
DROP INDEX `PROD_CONFS_PROD` ;

ALTER TABLE `PRODUCT_CONTENT` 
DROP FOREIGN KEY `PRODUCT_CONTENT_ibfk_2`;

ALTER TABLE `PRODUCT_FACILITY` 
DROP FOREIGN KEY `PRODUCT_FACILITY_ibfk_4`;

ALTER TABLE `PRODUCT_FACILITY_LOCATION` 
DROP FOREIGN KEY `PRODUCT_FACILITY_LOCATION_ibfk_2`;

ALTER TABLE `PRODUCT_GEO` 
DROP FOREIGN KEY `PRODUCT_GEO_ibfk_3`;

ALTER TABLE `PRODUCT_GL_ACCOUNT` 
DROP FOREIGN KEY `PRODUCT_GL_ACCOUNT_ibfk_3`;

ALTER TABLE `PRODUCT_KEYWORD` 
DROP FOREIGN KEY `PRODUCT_KEYWORD_ibfk_1`;

ALTER TABLE `PRODUCT_MAINT` 
DROP FOREIGN KEY `PRODUCT_MAINT_ibfk_4`;

ALTER TABLE `PRODUCT_MANUFACTURING_RULE` 
DROP FOREIGN KEY `PRODUCT_MANUFACTURING_RULE_ibfk_5`,
DROP FOREIGN KEY `PRODUCT_MANUFACTURING_RULE_ibfk_4`,
DROP FOREIGN KEY `PRODUCT_MANUFACTURING_RULE_ibfk_3`,
DROP FOREIGN KEY `PRODUCT_MANUFACTURING_RULE_ibfk_2`;
ALTER TABLE `PRODUCT_MANUFACTURING_RULE` 
DROP INDEX `PRODUCT_SUBST` ,
DROP INDEX `PRODUCT_IN` ,
DROP INDEX `PRODUCT_FOR` ,
DROP INDEX `PRODUCT_PARENT` ;

ALTER TABLE `PRODUCT_METER` 
DROP FOREIGN KEY `PRODUCT_METER_ibfk_3`;

ALTER TABLE `PRODUCT_ORDER_ITEM` 
DROP FOREIGN KEY `PRODUCT_ORDER_ITEM_ibfk_5`;
ALTER TABLE `PRODUCT_ORDER_ITEM` 
DROP INDEX `PROD_OITEM_PROD` ;

ALTER TABLE `PRODUCT_PAYMENT_METHOD_TYPE` 
DROP FOREIGN KEY `PRODUCT_PAYMENT_METHOD_TYPE_ibfk_3`;

ALTER TABLE `PRODUCT_PROMO_PRODUCT` 
DROP FOREIGN KEY `PRODUCT_PROMO_PRODUCT_ibfk_2`;
ALTER TABLE `PRODUCT_PROMO_PRODUCT` 
DROP INDEX `PROD_PRPRD_PROD` ;

ALTER TABLE `PRODUCT_REVIEW` 
DROP FOREIGN KEY `PRODUCT_REVIEW_ibfk_2`;
ALTER TABLE `PRODUCT_REVIEW` 
DROP INDEX `PROD_REVIEW_PROD` ;

ALTER TABLE `PRODUCT_ROLE` 
DROP FOREIGN KEY `PRODUCT_ROLE_ibfk_1`;

ALTER TABLE `PRODUCT_SUBSCRIPTION_RESOURCE` 
DROP FOREIGN KEY `PRODUCT_SUBSCRIPTION_RESOURCE_ibfk_4`;

ALTER TABLE `QUOTE_ITEM` 
DROP FOREIGN KEY `QUOTE_ITEM_ibfk_5`;
ALTER TABLE `QUOTE_ITEM` 
DROP INDEX `QUOTE_ITM_PROD` ;

ALTER TABLE `REORDER_GUIDELINE` 
DROP FOREIGN KEY `REORDER_GUIDELINE_ibfk_4`;
ALTER TABLE `REORDER_GUIDELINE` 
DROP INDEX `REORDER_GD_PROD` ;

ALTER TABLE `REQUIREMENT` 
DROP FOREIGN KEY `REQUIREMENT_ibfk_5`;
ALTER TABLE `REQUIREMENT` 
DROP INDEX `REQ_PRODUCT` ;

ALTER TABLE `RETURN_ITEM` 
DROP FOREIGN KEY `RETURN_ITEM_ibfk_4`;
ALTER TABLE `RETURN_ITEM` 
DROP INDEX `RTN_ITEM_PROD` ;

ALTER TABLE `SALES_FORECAST_DETAIL` 
DROP FOREIGN KEY `SALES_FORECAST_DETAIL_ibfk_2`;
ALTER TABLE `SALES_FORECAST_DETAIL` 
DROP INDEX `SALES4CDTL_PROD` ;

ALTER TABLE `SALES_FORECAST_ITEM` 
DROP FOREIGN KEY `SALES_FORECAST_ITEM_ibfk_3`;
ALTER TABLE `SALES_FORECAST_ITEM` 
DROP INDEX `SFCITM_PROD` ;

ALTER TABLE `SHIPMENT_ITEM` 
DROP FOREIGN KEY `SHIPMENT_ITEM_ibfk_1`;
ALTER TABLE `SHIPMENT_ITEM` 
DROP INDEX `SHPMNT_ITM_PROD` ;


ALTER TABLE `SHIPMENT_PACKAGE_CONTENT` 
DROP FOREIGN KEY `SHIPMENT_PACKAGE_CONTENT_ibfk_1`;
ALTER TABLE `SHIPMENT_PACKAGE_CONTENT` 
DROP INDEX `PCK_CNTNT_PROD` ;

ALTER TABLE `SHIPMENT_RECEIPT` 
DROP FOREIGN KEY `SHIPMENT_RECEIPT_ibfk_3`;
ALTER TABLE `SHIPMENT_RECEIPT` 
DROP INDEX `SHP_RCPT_PROD` ;

ALTER TABLE `SHOPPING_LIST_ITEM` 
DROP FOREIGN KEY `SHOPPING_LIST_ITEM_ibfk_2`;
ALTER TABLE `SHOPPING_LIST_ITEM` 
DROP INDEX `SHLIST_ITEM_PROD` ;

ALTER TABLE `SUBSCRIPTION` 
DROP FOREIGN KEY `SUBSCRIPTION_ibfk_11`;
ALTER TABLE `SUBSCRIPTION` 
DROP INDEX `SUBSC_PRODUCT` ;

ALTER TABLE `SUPPLIER_PRODUCT` 
DROP FOREIGN KEY `SUPPLIER_PRODUCT_ibfk_4`;

ALTER TABLE `VENDOR_PRODUCT` 
DROP FOREIGN KEY `VENDOR_PRODUCT_ibfk_1`;

ALTER TABLE `WORK_EFFORT_GOOD_STANDARD` 
DROP FOREIGN KEY `WORK_EFFORT_GOOD_STANDARD_ibfk_1`;
ALTER TABLE `WORK_EFFORT_GOOD_STANDARD` 
DROP INDEX `WKEFF_GDSTD_PROD` ;


ALTER TABLE `PRODUCT_PRICE` 
DROP FOREIGN KEY `PRODUCT_PRICE_ibfk_5`;

ALTER TABLE `PRODUCT_ASSOC` 
DROP FOREIGN KEY `PRODUCT_ASSOC_ibfk_2`;
ALTER TABLE `PRODUCT_ASSOC` 
DROP INDEX `PROD_ASSOC_APROD` ;

ALTER TABLE `PRODUCT_CATEGORY_MEMBER` 
DROP FOREIGN KEY `PRODUCT_CATEGORY_MEMBER_ibfk_2`;
ALTER TABLE `PRODUCT_CATEGORY_MEMBER` 
DROP INDEX `PROD_CMBR_PRODUCT` ;

ALTER TABLE `PRODUCT_FEATURE_APPL` 
DROP FOREIGN KEY `PRODUCT_FEATURE_APPL_ibfk_2`;
ALTER TABLE `PRODUCT_FEATURE_APPL` 
DROP INDEX `PROD_FAPPL_PRODUCT` ;

ALTER TABLE `PRODUCT_ASSOC` 
DROP FOREIGN KEY `PRODUCT_ASSOC_ibfk_4`;
ALTER TABLE `PRODUCT_ASSOC` 
DROP INDEX `PROD_ASSOC_MPROD` ;

ALTER TABLE `PRODUCT_ATTRIBUTE` 
DROP FOREIGN KEY `PRODUCT_ATTRIBUTE_ibfk_1`;

ALTER TABLE `PRODUCT_COST_COMPONENT_CALC` 
DROP FOREIGN KEY `PRODUCT_COST_COMPONENT_CALC_ibfk_3`;

ALTER TABLE `PRODUCT_FEATURE_APPL_ATTR` 
DROP FOREIGN KEY `PRODUCT_FEATURE_APPL_ATTR_ibfk_3`;

TRUNCATE TABLE PRODUCT;


ALTER TABLE `PRODUCT` 
ADD COLUMN `ID` INT(11) NOT NULL AUTO_INCREMENT FIRST,
DROP PRIMARY KEY,
ADD PRIMARY KEY (`ID`, `PRODUCT_ID`);

INSERT INTO `PRODUCT`
(
`PRODUCT_ID`,
`PRODUCT_TYPE_ID`,
`PRIMARY_PRODUCT_CATEGORY_ID`,
`MANUFACTURER_PARTY_ID`,
`FACILITY_ID`,
`INTRODUCTION_DATE`,
`RELEASE_DATE`,
`SUPPORT_DISCONTINUATION_DATE`,
`SALES_DISCONTINUATION_DATE`,
`SALES_DISC_WHEN_NOT_AVAIL`,
`INTERNAL_NAME`,
`BRAND_NAME`,
`COMMENTS`,
`PRODUCT_NAME`,
`DESCRIPTION`,
`LONG_DESCRIPTION`,
`PRICE_DETAIL_TEXT`,
`SMALL_IMAGE_URL`,
`MEDIUM_IMAGE_URL`,
`LARGE_IMAGE_URL`,
`DETAIL_IMAGE_URL`,
`ORIGINAL_IMAGE_URL`,
`DETAIL_SCREEN`,
`INVENTORY_MESSAGE`,
`REQUIRE_INVENTORY`,
`QUANTITY_UOM_ID`,
`QUANTITY_INCLUDED`,
`PIECES_INCLUDED`,
`REQUIRE_AMOUNT`,
`FIXED_AMOUNT`,
`AMOUNT_UOM_TYPE_ID`,
`WEIGHT_UOM_ID`,
`WEIGHT`,
`PRODUCT_WEIGHT`,
`HEIGHT_UOM_ID`,
`PRODUCT_HEIGHT`,
`SHIPPING_HEIGHT`,
`WIDTH_UOM_ID`,
`PRODUCT_WIDTH`,
`SHIPPING_WIDTH`,
`DEPTH_UOM_ID`,
`PRODUCT_DEPTH`,
`SHIPPING_DEPTH`,
`DIAMETER_UOM_ID`,
`PRODUCT_DIAMETER`,
`PRODUCT_RATING`,
`RATING_TYPE_ENUM`,
`RETURNABLE`,
`TAXABLE`,
`CHARGE_SHIPPING`,
`AUTO_CREATE_KEYWORDS`,
`INCLUDE_IN_PROMOTIONS`,
`IS_VIRTUAL`,
`IS_VARIANT`,
`VIRTUAL_VARIANT_METHOD_ENUM`,
`ORIGIN_GEO_ID`,
`REQUIREMENT_METHOD_ENUM_ID`,
`BILL_OF_MATERIAL_LEVEL`,
`RESERV_MAX_PERSONS`,
`RESERV2ND_P_P_PERC`,
`RESERV_NTH_P_P_PERC`,
`CONFIG_ID`,
`CREATED_DATE`,
`CREATED_BY_USER_LOGIN`,
`LAST_MODIFIED_DATE`,
`LAST_MODIFIED_BY_USER_LOGIN`,
`IN_SHIPPING_BOX`,
`DEFAULT_SHIPMENT_BOX_TYPE_ID`,
`LAST_UPDATED_STAMP`,
`LAST_UPDATED_TX_STAMP`,
`CREATED_STAMP`,
`CREATED_TX_STAMP`,
`IS_ACTIVE`,
`CREATED_USER`,
`UPDATED_DATE`,
`UPDATED_USER`)
SELECT `PRODUCT_ID`,
`PRODUCT_TYPE_ID`,
`PRIMARY_PRODUCT_CATEGORY_ID`,
`MANUFACTURER_PARTY_ID`,
`FACILITY_ID`,
`INTRODUCTION_DATE`,
`RELEASE_DATE`,
`SUPPORT_DISCONTINUATION_DATE`,
`SALES_DISCONTINUATION_DATE`,
`SALES_DISC_WHEN_NOT_AVAIL`,
`INTERNAL_NAME`,
`BRAND_NAME`,
`COMMENTS`,
`PRODUCT_NAME`,
`DESCRIPTION`,
`LONG_DESCRIPTION`,
`PRICE_DETAIL_TEXT`,
`SMALL_IMAGE_URL`,
`MEDIUM_IMAGE_URL`,
`LARGE_IMAGE_URL`,
`DETAIL_IMAGE_URL`,
`ORIGINAL_IMAGE_URL`,
`DETAIL_SCREEN`,
`INVENTORY_MESSAGE`,
`REQUIRE_INVENTORY`,
`QUANTITY_UOM_ID`,
`QUANTITY_INCLUDED`,
`PIECES_INCLUDED`,
`REQUIRE_AMOUNT`,
`FIXED_AMOUNT`,
`AMOUNT_UOM_TYPE_ID`,
`WEIGHT_UOM_ID`,
`WEIGHT`,
`PRODUCT_WEIGHT`,
`HEIGHT_UOM_ID`,
`PRODUCT_HEIGHT`,
`SHIPPING_HEIGHT`,
`WIDTH_UOM_ID`,
`PRODUCT_WIDTH`,
`SHIPPING_WIDTH`,
`DEPTH_UOM_ID`,
`PRODUCT_DEPTH`,
`SHIPPING_DEPTH`,
`DIAMETER_UOM_ID`,
`PRODUCT_DIAMETER`,
`PRODUCT_RATING`,
`RATING_TYPE_ENUM`,
`RETURNABLE`,
`TAXABLE`,
`CHARGE_SHIPPING`,
`AUTO_CREATE_KEYWORDS`,
`INCLUDE_IN_PROMOTIONS`,
`IS_VIRTUAL`,
`IS_VARIANT`,
`VIRTUAL_VARIANT_METHOD_ENUM`,
`ORIGIN_GEO_ID`,
`REQUIREMENT_METHOD_ENUM_ID`,
`BILL_OF_MATERIAL_LEVEL`,
`RESERV_MAX_PERSONS`,
`RESERV2ND_P_P_PERC`,
`RESERV_NTH_P_P_PERC`,
`CONFIG_ID`,
`CREATED_DATE`,
`CREATED_BY_USER_LOGIN`,
`LAST_MODIFIED_DATE`,
`LAST_MODIFIED_BY_USER_LOGIN`,
`IN_SHIPPING_BOX`,
`DEFAULT_SHIPMENT_BOX_TYPE_ID`,
`LAST_UPDATED_STAMP`,
`LAST_UPDATED_TX_STAMP`,
`CREATED_STAMP`,
`CREATED_TX_STAMP`,
`IS_ACTIVE`,
`CREATED_USER`,
`UPDATED_DATE`,
`UPDATED_USER` FROM PRODUCT_BACk;



CREATE TABLE UOM_BACk LIKE UOM; 
INSERT UOM_BACk SELECT * FROM UOM;

ALTER TABLE `ACCTG_TRANS_ENTRY` 
DROP FOREIGN KEY `ACCTG_TRANS_ENTRY_ibfk_8`;
ALTER TABLE `ACCTG_TRANS_ENTRY` 
DROP INDEX `ACCTTXENT_OCURNCY` ;

ALTER TABLE `BILLING_ACCOUNT` 
DROP FOREIGN KEY `BILLING_ACCOUNT_ibfk_2`;
ALTER TABLE `BILLING_ACCOUNT` 
DROP INDEX `BILLACCT_CUOM` ;

ALTER TABLE `BILLING_ACCOUNT_TERM` 
DROP FOREIGN KEY `BILLING_ACCOUNT_TERM_ibfk_3`;
ALTER TABLE `BILLING_ACCOUNT_TERM` 
DROP INDEX `BILLACCT_TRM_UOM` ;

ALTER TABLE `CASH_DRAWER` 
DROP FOREIGN KEY `CASH_DRAWER_ibfk_2`;
ALTER TABLE `CASH_DRAWER` 
DROP INDEX `CD_CUOM` ;


ALTER TABLE `COST_COMPONENT_CALC` 
DROP FOREIGN KEY `COST_COMPONENT_CALC_ibfk_3`;
ALTER TABLE `COST_COMPONENT_CALC` 
DROP INDEX `COST_COM_CUOM` ;

ALTER TABLE `CUST_REQUEST` 
DROP FOREIGN KEY `CUST_REQUEST_ibfk_4`;
ALTER TABLE `CUST_REQUEST` 
DROP INDEX `CUST_REQ_CUOM` ;

ALTER TABLE `EXAMPLE_ITEM` 
DROP FOREIGN KEY `EXAMPLE_ITEM_ibfk_2`;
ALTER TABLE `EXAMPLE_ITEM` 
DROP INDEX `EXMPLIT_UOM` ;


ALTER TABLE `FACILITY` 
DROP FOREIGN KEY `FACILITY_ibfk_8`,
DROP FOREIGN KEY `FACILITY_ibfk_7`,
DROP FOREIGN KEY `FACILITY_ibfk_6`;
ALTER TABLE `FACILITY` 
DROP INDEX `FACILITY_SUOM` ,
DROP INDEX `FAC_DEF_WUOM` ,
DROP INDEX `FAC_DEF_DUOM` ;


ALTER TABLE `FIN_ACCOUNT` 
DROP FOREIGN KEY `FIN_ACCOUNT_ibfk_1`;
ALTER TABLE `FIN_ACCOUNT` 
DROP INDEX `FINACCT_CURUOM` ;

ALTER TABLE `FIXED_ASSET_MAINT` 
DROP FOREIGN KEY `FIXED_ASSET_MAINT_ibfk_2`;
ALTER TABLE `FIXED_ASSET_MAINT` 
DROP INDEX `FXDASTMNT_INTUOM` ;

ALTER TABLE `FIXED_ASSET_STD_COST` 
DROP FOREIGN KEY `FIXED_ASSET_STD_COST_ibfk_1`;
ALTER TABLE `FIXED_ASSET_STD_COST` 
DROP INDEX `FIXASTCO_AMCURR` ;

ALTER TABLE `GEO_POINT` 
DROP FOREIGN KEY `GEO_POINT_ibfk_2`;
ALTER TABLE `GEO_POINT` 
DROP INDEX `GPT_TYPE_UOM` ;

ALTER TABLE `GOOGLE_CO_CONFIGURATION` 
DROP FOREIGN KEY `GOOGLE_CO_CONFIGURATION_ibfk_1`;
ALTER TABLE `GOOGLE_CO_CONFIGURATION` 
DROP INDEX `GCC_CUOM` ;

ALTER TABLE `INVOICE` 
DROP FOREIGN KEY `INVOICE_ibfk_3`;
ALTER TABLE `INVOICE` 
DROP INDEX `INVOICE_CUOM` ;

ALTER TABLE `LOT` 
DROP FOREIGN KEY `LOT_ibfk_2`;
ALTER TABLE `LOT` 
DROP INDEX `LOT_UOM` ;

ALTER TABLE `MARKETING_CAMPAIGN` 
DROP FOREIGN KEY `MARKETING_CAMPAIGN_ibfk_1`;
ALTER TABLE `MARKETING_CAMPAIGN` 
DROP INDEX `MKTGCPN_CUOM` ;

ALTER TABLE `ORDER_DELIVERY_SCHEDULE` 
DROP FOREIGN KEY `ORDER_DELIVERY_SCHEDULE_ibfk_4`,
DROP FOREIGN KEY `ORDER_DELIVERY_SCHEDULE_ibfk_3`;
ALTER TABLE `ORDER_DELIVERY_SCHEDULE` 
DROP INDEX `ORDER_DELSCH_TWUOM` ,
DROP INDEX `ORDER_DELSCH_TCUOM` ;

ALTER TABLE `ORDER_HEADER` 
DROP FOREIGN KEY `ORDER_HEADER_ibfk_6`;
ALTER TABLE `ORDER_HEADER` 
DROP INDEX `ORDER_HDR_CUOM` ;

ALTER TABLE `ORDER_TERM` 
DROP FOREIGN KEY `ORDER_TERM_ibfk_3`;
ALTER TABLE `ORDER_TERM` 
DROP INDEX `ORDER_TERM_UOM` ;

ALTER TABLE `PARTY_ACCTG_PREFERENCE` 
DROP FOREIGN KEY `PARTY_ACCTG_PREFERENCE_ibfk_1`;
ALTER TABLE `PARTY_ACCTG_PREFERENCE` 
DROP INDEX `ACCTGPREF_CURNCY` ;

ALTER TABLE `PARTY` 
DROP FOREIGN KEY `PARTY_ibfk_4`;
ALTER TABLE `PARTY` 
DROP INDEX `PARTY_PREF_CRNCY` ;

ALTER TABLE `PARTY_RATE` 
DROP FOREIGN KEY `PARTY_RATE_ibfk_1`;
ALTER TABLE `PARTY_RATE` 
DROP INDEX `OPARTY_RATE_CUOM` ;

ALTER TABLE `PARTY_SUPPLEMENTAL_DATA` 
DROP FOREIGN KEY `PARTY_SUPPLEMENTAL_DATA_ibfk_1`;
ALTER TABLE `PARTY_SUPPLEMENTAL_DATA` 
DROP INDEX `PSD_CURRENCY_UOM` ;

ALTER TABLE `PAYMENT_GATEWAY_RESPONSE` 
DROP FOREIGN KEY `PAYMENT_GATEWAY_RESPONSE_ibfk_1`;
ALTER TABLE `PAYMENT_GATEWAY_RESPONSE` 
DROP INDEX `PAYGATR_CUOM` ;

ALTER TABLE `PAYMENT` 
DROP FOREIGN KEY `PAYMENT_ibfk_2`,
DROP FOREIGN KEY `PAYMENT_ibfk_1`;
ALTER TABLE `PAYMENT` 
DROP INDEX `PAYMENT_ACUOM` ,
DROP INDEX `PAYMENT_CUOM` ;

ALTER TABLE `ACCTG_TRANS_ENTRY` 
DROP FOREIGN KEY `ACCTG_TRANS_ENTRY_ibfk_3`;
ALTER TABLE `ACCTG_TRANS_ENTRY` 
DROP INDEX `ACCTTXENT_CURNCY` ;

ALTER TABLE `AGREEMENT_TERM` 
DROP FOREIGN KEY `AGREEMENT_TERM_ibfk_5`,
DROP FOREIGN KEY `AGREEMENT_TERM_ibfk_11`;
ALTER TABLE `AGREEMENT_TERM` 
DROP INDEX `AGRTERM_UOM` ,
DROP INDEX `AGRTERM_CURUOM` ;

ALTER TABLE `COST_COMPONENT` 
DROP FOREIGN KEY `COST_COMPONENT_ibfk_2`;
ALTER TABLE `COST_COMPONENT` 
DROP INDEX `COST_COMP_CUOM` ;

ALTER TABLE `CUST_REQUEST` 
DROP FOREIGN KEY `CUST_REQUEST_ibfk_1`;
ALTER TABLE `CUST_REQUEST` 
DROP INDEX `CUST_REQ_AUOM` ;

ALTER TABLE `QUOTE_ITEM` 
DROP FOREIGN KEY `QUOTE_ITEM_ibfk_8`;
ALTER TABLE `QUOTE_ITEM` 
DROP INDEX `QUOTE_ITM_UOM` ;

ALTER TABLE `ORDER_ITEM` 
DROP FOREIGN KEY `ORDER_ITEM_ibfk_9`;
ALTER TABLE `ORDER_ITEM` 
DROP INDEX `ORDER_ITEM_RFUOM` ;

ALTER TABLE `FIXED_ASSET` 
DROP FOREIGN KEY `FIXED_ASSET_ibfk_10`;
ALTER TABLE `FIXED_ASSET` 
DROP INDEX `FIXEDAST_UOM` ;

ALTER TABLE `WORK_EFFORT` 
DROP FOREIGN KEY `WORK_EFFORT_ibfk_7`;
ALTER TABLE `WORK_EFFORT` 
DROP INDEX `WK_EFFRT_MON_UOM` ;

ALTER TABLE `PRODUCT_MAINT` 
DROP FOREIGN KEY `PRODUCT_MAINT_ibfk_1`;
ALTER TABLE `PRODUCT_MAINT` 
DROP INDEX `PRODMNT_INTUOM` ;

ALTER TABLE `RATE_AMOUNT` 
DROP FOREIGN KEY `RATE_AMOUNT_ibfk_4`;
ALTER TABLE `RATE_AMOUNT` 
DROP INDEX `RATE_AMOUNT_RCT` ;

ALTER TABLE `SHIPMENT` 
DROP FOREIGN KEY `SHIPMENT_ibfk_3`;
ALTER TABLE `SHIPMENT` 
DROP INDEX `SHPMNT_CUOM` ;

ALTER TABLE `SHIPMENT_PACKAGE` 
DROP FOREIGN KEY `SHIPMENT_PACKAGE_ibfk_4`,
DROP FOREIGN KEY `SHIPMENT_PACKAGE_ibfk_2`;
ALTER TABLE `SHIPMENT_PACKAGE` 
DROP INDEX `SHPKG_WUOM` ,
DROP INDEX `SHPKG_DUOM` ;

ALTER TABLE `SHIPMENT_PACKAGE_ROUTE_SEG` 
DROP FOREIGN KEY `SHIPMENT_PACKAGE_ROUTE_SEG_ibfk_1`;
ALTER TABLE `SHIPMENT_PACKAGE_ROUTE_SEG` 
DROP INDEX `SHPKRTSG_CUOM` ;

ALTER TABLE `SHIPMENT_ROUTE_SEGMENT` 
DROP FOREIGN KEY `SHIPMENT_ROUTE_SEGMENT_ibfk_4`,
DROP FOREIGN KEY `SHIPMENT_ROUTE_SEGMENT_ibfk_1`;
ALTER TABLE `SHIPMENT_ROUTE_SEGMENT` 
DROP INDEX `SHPKRTSG_BWUOM` ,
DROP INDEX `SHPMT_RTSEG_CUOM` ;

ALTER TABLE `FIXED_ASSET_PRODUCT` 
DROP FOREIGN KEY `FIXED_ASSET_PRODUCT_ibfk_4`;
ALTER TABLE `FIXED_ASSET_PRODUCT` 
DROP INDEX `FIXDASTPRD_UOM` ;

ALTER TABLE `SUBSCRIPTION` 
DROP FOREIGN KEY `SUBSCRIPTION_ibfk_5`,
DROP FOREIGN KEY `SUBSCRIPTION_ibfk_3`,
DROP FOREIGN KEY `SUBSCRIPTION_ibfk_16`,
DROP FOREIGN KEY `SUBSCRIPTION_ibfk_1`;
ALTER TABLE `SUBSCRIPTION` 
DROP INDEX `SUBSC_MTU` ,
DROP INDEX `SUBSC_ATU` ,
DROP INDEX `SUBSC_CTU` ,
DROP INDEX `SUBSC_UTU` ;

ALTER TABLE `INVENTORY_ITEM` 
DROP FOREIGN KEY `INVENTORY_ITEM_ibfk_21`,
DROP FOREIGN KEY `INVENTORY_ITEM_ibfk_13`;
ALTER TABLE `INVENTORY_ITEM` 
DROP INDEX `INV_ITEM_CUOM` ,
DROP INDEX `INV_ITEM_UOM` ;

ALTER TABLE `INVOICE_ITEM` 
DROP FOREIGN KEY `INVOICE_ITEM_ibfk_11`;
ALTER TABLE `INVOICE_ITEM` 
DROP INDEX `INVCE_ITM_UOM` ;

ALTER TABLE `PERIOD_TYPE` 
DROP FOREIGN KEY `PERIOD_TYPE_ibfk_1`;
ALTER TABLE `PERIOD_TYPE` 
DROP INDEX `PER_TYPE_UOM` ;

ALTER TABLE `SALES_FORECAST_HISTORY` 
DROP FOREIGN KEY `SALES_FORECAST_HISTORY_ibfk_1`;
ALTER TABLE `SALES_FORECAST_HISTORY` 
DROP INDEX `SALES4CH_CUR_UOM` ;

ALTER TABLE `SALES_FORECAST` 
DROP FOREIGN KEY `SALES_FORECAST_ibfk_2`;
ALTER TABLE `SALES_FORECAST` 
DROP INDEX `SALES4C_CUR_UOM` ;

ALTER TABLE `SALES_FORECAST_DETAIL` 
DROP FOREIGN KEY `SALES_FORECAST_DETAIL_ibfk_3`;
ALTER TABLE `SALES_FORECAST_DETAIL` 
DROP INDEX `SALES4CDTL_QTY_UOM` ;

ALTER TABLE `PRODUCT_CONTENT` 
DROP FOREIGN KEY `PRODUCT_CONTENT_ibfk_5`;
ALTER TABLE `PRODUCT_CONTENT` 
DROP INDEX `PROD_CNT_UTU` ;

ALTER TABLE `PRODUCT_FEATURE_PRICE` 
DROP FOREIGN KEY `PRODUCT_FEATURE_PRICE_ibfk_2`;
ALTER TABLE `PRODUCT_FEATURE_PRICE` 
DROP INDEX `PROD_F_PRICE_CUOM` ;

ALTER TABLE `PRODUCT` 
DROP FOREIGN KEY `PRODUCT_ibfk_6`,
DROP FOREIGN KEY `PRODUCT_ibfk_4`,
DROP FOREIGN KEY `PRODUCT_ibfk_3`,
DROP FOREIGN KEY `PRODUCT_ibfk_18`,
DROP FOREIGN KEY `PRODUCT_ibfk_17`,
DROP FOREIGN KEY `PRODUCT_ibfk_11`;
ALTER TABLE `PRODUCT` 
DROP INDEX `PROD_DIAMTR_UOM` ,
DROP INDEX `PROD_DEPTH_UOM` ,
DROP INDEX `PROD_WIDTH_UOM` ,
DROP INDEX `PROD_HEIGHT_UOM` ,
DROP INDEX `PROD_WEIGHT_UOM` ,
DROP INDEX `PROD_QUANT_UOM` ;

ALTER TABLE `PRODUCT_METER` 
DROP FOREIGN KEY `PRODUCT_METER_ibfk_2`;
ALTER TABLE `PRODUCT_METER` 
DROP INDEX `PRODMTR_MTRUOM` ;

ALTER TABLE `PRODUCT_METER_TYPE` 
DROP FOREIGN KEY `PRODUCT_METER_TYPE_ibfk_1`;
ALTER TABLE `PRODUCT_METER_TYPE` 
DROP INDEX `PRODMTRTP_DUOM` ;

ALTER TABLE `PRODUCT_PRICE` 
DROP FOREIGN KEY `PRODUCT_PRICE_ibfk_8`,
DROP FOREIGN KEY `PRODUCT_PRICE_ibfk_3`;
ALTER TABLE `PRODUCT_PRICE` 
DROP INDEX `PROD_PRICE_TUOM` ,
DROP INDEX `PROD_PRICE_CUOM` ;

ALTER TABLE `PRODUCT_STORE` 
DROP FOREIGN KEY `PRODUCT_STORE_ibfk_3`;
ALTER TABLE `PRODUCT_STORE` 
DROP INDEX `PROD_STR_CURUOM` ;

ALTER TABLE `QUOTE` 
DROP FOREIGN KEY `QUOTE_ibfk_4`;
ALTER TABLE `QUOTE` 
DROP INDEX `QUOTE_CUOM` ;

ALTER TABLE `PRODUCT_SUBSCRIPTION_RESOURCE` 
DROP FOREIGN KEY `PRODUCT_SUBSCRIPTION_RESOURCE_ibfk_7`,
DROP FOREIGN KEY `PRODUCT_SUBSCRIPTION_RESOURCE_ibfk_3`,
DROP FOREIGN KEY `PRODUCT_SUBSCRIPTION_RESOURCE_ibfk_2`,
DROP FOREIGN KEY `PRODUCT_SUBSCRIPTION_RESOURCE_ibfk_1`;
ALTER TABLE `PRODUCT_SUBSCRIPTION_RESOURCE` 
DROP INDEX `PROD_SBRS_MTU` ,
DROP INDEX `PROD_SBRS_ATU` ,
DROP INDEX `PROD_SBRS_CTU` ,
DROP INDEX `PROD_SBRS_UTU` ;

ALTER TABLE `RETURN_HEADER` 
DROP FOREIGN KEY `RETURN_HEADER_ibfk_5`;
ALTER TABLE `RETURN_HEADER` 
DROP INDEX `RTN_HDR_CUOM` ;

ALTER TABLE `SALES_OPPORTUNITY_HISTORY` 
DROP FOREIGN KEY `SALES_OPPORTUNITY_HISTORY_ibfk_1`;
ALTER TABLE `SALES_OPPORTUNITY_HISTORY` 
DROP INDEX `SLOPHI_CRNCY_UOM` ;

ALTER TABLE `SALES_OPPORTUNITY` 
DROP FOREIGN KEY `SALES_OPPORTUNITY_ibfk_1`;
ALTER TABLE `SALES_OPPORTUNITY` 
DROP INDEX `SLSOPP_CRNCY_UOM` ;

ALTER TABLE `SHIPMENT_BOX_TYPE` 
DROP FOREIGN KEY `SHIPMENT_BOX_TYPE_ibfk_2`,
DROP FOREIGN KEY `SHIPMENT_BOX_TYPE_ibfk_1`;
ALTER TABLE `SHIPMENT_BOX_TYPE` 
DROP INDEX `SHMT_BXTP_WUOM` ,
DROP INDEX `SHMT_BXTP_DUOM` ;

ALTER TABLE `SHIPMENT_COST_ESTIMATE` 
DROP FOREIGN KEY `SHIPMENT_COST_ESTIMATE_ibfk_7`,
DROP FOREIGN KEY `SHIPMENT_COST_ESTIMATE_ibfk_5`,
DROP FOREIGN KEY `SHIPMENT_COST_ESTIMATE_ibfk_11`;
ALTER TABLE `SHIPMENT_COST_ESTIMATE` 
DROP INDEX `SHPMNT_CE_PUOM` ,
DROP INDEX `SHPMNT_CE_QUOM` ,
DROP INDEX `SHPMNT_CE_WUOM` ;

ALTER TABLE `SUPPLIER_PRODUCT_FEATURE` 
DROP FOREIGN KEY `SUPPLIER_PRODUCT_FEATURE_ibfk_3`;
ALTER TABLE `SUPPLIER_PRODUCT_FEATURE` 
DROP INDEX `SUPPL_FEAT_UOM` ;

ALTER TABLE `SUPPLIER_PRODUCT` 
DROP FOREIGN KEY `SUPPLIER_PRODUCT_ibfk_5`,
DROP FOREIGN KEY `SUPPLIER_PRODUCT_ibfk_2`;
ALTER TABLE `SUPPLIER_PRODUCT` 
DROP INDEX `SUPPL_PROD_QUOM` ,
DROP INDEX `SUPPL_PROD_CUOM` ;

ALTER TABLE `UOM_CONVERSION_DATED` 
DROP FOREIGN KEY `UOM_CONVERSION_DATED_ibfk_2`,
DROP FOREIGN KEY `UOM_CONVERSION_DATED_ibfk_1`;
ALTER TABLE `UOM_CONVERSION_DATED` 
DROP INDEX `DATE_UOM_CONV_TO` ;


ALTER TABLE `UOM_CONVERSION` 
DROP FOREIGN KEY `UOM_CONVERSION_ibfk_2`,
DROP FOREIGN KEY `UOM_CONVERSION_ibfk_1`;
ALTER TABLE `UOM_CONVERSION` 
DROP INDEX `UOM_CONV_TO` ;

ALTER TABLE `UOM_GROUP` 
DROP FOREIGN KEY `UOM_GROUP_ibfk_1`;
ALTER TABLE `UOM_GROUP` 
DROP INDEX `UOM_GROUP_UOM` ;


TRUNCATE TABLE UOM;


ALTER TABLE `UOM` 
ADD COLUMN `ID` INT(11) NOT NULL AUTO_INCREMENT FIRST,
DROP PRIMARY KEY,
ADD PRIMARY KEY (`ID`, `UOM_ID`);

INSERT INTO `UOM`
(
`UOM_ID`,
`UOM_TYPE_ID`,
`ABBREVIATION`,
`DESCRIPTION`,
`LAST_UPDATED_STAMP`,
`LAST_UPDATED_TX_STAMP`,
`CREATED_STAMP`,
`CREATED_TX_STAMP`,
`CREATED_DATE`,
`CREATED_USER`,
`UPDATED_DATE`,
`UPDATED_USER`)
select `UOM_ID`,
`UOM_TYPE_ID`,
`ABBREVIATION`,
`DESCRIPTION`,
`LAST_UPDATED_STAMP`,
`LAST_UPDATED_TX_STAMP`,
`CREATED_STAMP`,
`CREATED_TX_STAMP`,
`CREATED_DATE`,
`CREATED_USER`,
`UPDATED_DATE`,
`UPDATED_USER` from UOM_BACk;


CREATE TABLE PRODUCT_PRICE_BACk LIKE PRODUCT_PRICE; 
INSERT PRODUCT_PRICE_BACk SELECT * FROM PRODUCT_PRICE;
TRUNCATE TABLE PRODUCT_PRICE;

ALTER TABLE `PRODUCT_PRICE` 
ADD COLUMN `ID` INT(45) NOT NULL AUTO_INCREMENT FIRST,
DROP PRIMARY KEY,
ADD PRIMARY KEY (`ID`, `PRODUCT_ID`, `PRODUCT_PRICE_TYPE_ID`, `PRODUCT_PRICE_PURPOSE_ID`, `CURRENCY_UOM_ID`, `PRODUCT_STORE_GROUP_ID`, `FROM_DATE`);

INSERT INTO `PRODUCT_PRICE`
(
`PRODUCT_ID`,
`PRODUCT_PRICE_TYPE_ID`,
`PRODUCT_PRICE_PURPOSE_ID`,
`CURRENCY_UOM_ID`,
`PRODUCT_STORE_GROUP_ID`,
`FROM_DATE`,
`THRU_DATE`,
`PRICE`,
`TERM_UOM_ID`,
`CUSTOM_PRICE_CALC_SERVICE`,
`CREATED_DATE`,
`CREATED_BY_USER_LOGIN`,
`LAST_MODIFIED_DATE`,
`LAST_MODIFIED_BY_USER_LOGIN`,
`LAST_UPDATED_STAMP`,
`LAST_UPDATED_TX_STAMP`,
`CREATED_STAMP`,
`CREATED_TX_STAMP`,
`P_ID`,
`CREATED_USER`,
`UPDATED_DATE`,
`UPDATED_USER`)
SELECT `PRODUCT_ID`,
`PRODUCT_PRICE_TYPE_ID`,
`PRODUCT_PRICE_PURPOSE_ID`,
`CURRENCY_UOM_ID`,
`PRODUCT_STORE_GROUP_ID`,
`FROM_DATE`,
`THRU_DATE`,
`PRICE`,
`TERM_UOM_ID`,
`CUSTOM_PRICE_CALC_SERVICE`,
`CREATED_DATE`,
`CREATED_BY_USER_LOGIN`,
`LAST_MODIFIED_DATE`,
`LAST_MODIFIED_BY_USER_LOGIN`,
`LAST_UPDATED_STAMP`,
`LAST_UPDATED_TX_STAMP`,
`CREATED_STAMP`,
`CREATED_TX_STAMP`,
`P_ID`,
`CREATED_USER`,
`UPDATED_DATE`,
`UPDATED_USER`
FROM `PRODUCT_PRICE_BACk`;


CREATE TABLE PRODUCT_FEATURE_TYPE_BACk LIKE PRODUCT_FEATURE_TYPE; 
INSERT PRODUCT_FEATURE_TYPE_BACk SELECT * FROM PRODUCT_FEATURE_TYPE;


ALTER TABLE `PRODUCT_FEATURE` 
DROP FOREIGN KEY `PRODUCT_FEATURE_ibfk_2`;
ALTER TABLE `PRODUCT_FEATURE` 
DROP INDEX `PROD_FEAT_TYPE` ;

ALTER TABLE `PRODUCT_FEATURE_TYPE` 
DROP FOREIGN KEY `PRODUCT_FEATURE_TYPE_ibfk_1`;
ALTER TABLE `PRODUCT_FEATURE_TYPE` 
DROP INDEX `PROD_FEAT_TYPPAR` ;


TRUNCATE TABLE PRODUCT_FEATURE_TYPE;

ALTER TABLE `PRODUCT_FEATURE_TYPE` 
ADD COLUMN `ID` INT(11) NOT NULL AUTO_INCREMENT FIRST,
DROP PRIMARY KEY,
ADD PRIMARY KEY (`ID`, `PRODUCT_FEATURE_TYPE_ID`);


INSERT INTO `PRODUCT_FEATURE_TYPE`
(
`PRODUCT_FEATURE_TYPE_ID`,
`PARENT_TYPE_ID`,
`HAS_TABLE`,
`DESCRIPTION`,
`LAST_UPDATED_STAMP`,
`LAST_UPDATED_TX_STAMP`,
`CREATED_STAMP`,
`CREATED_TX_STAMP`,
`CREATED_DATE`,
`CREATED_USER`,
`UPDATED_DATE`,
`UPDATED_USER`)
SELECT `PRODUCT_FEATURE_TYPE_ID`,
`PARENT_TYPE_ID`,
`HAS_TABLE`,
`DESCRIPTION`,
`LAST_UPDATED_STAMP`,
`LAST_UPDATED_TX_STAMP`,
`CREATED_STAMP`,
`CREATED_TX_STAMP`,
`CREATED_DATE`,
`CREATED_USER`,
`UPDATED_DATE`,
`UPDATED_USER`
FROM `PRODUCT_FEATURE_TYPE_BACk`;


CREATE TABLE PRODUCT_FEATURE_BACk LIKE PRODUCT_FEATURE; 
INSERT PRODUCT_FEATURE_BACk SELECT * FROM PRODUCT_FEATURE;


ALTER TABLE `COST_COMPONENT` 
DROP FOREIGN KEY `COST_COMPONENT_ibfk_6`;
ALTER TABLE `COST_COMPONENT` 
DROP INDEX `COST_COMP_PRODFEAT` ;

ALTER TABLE `DESIRED_FEATURE` 
DROP FOREIGN KEY `DESIRED_FEATURE_ibfk_1`;
ALTER TABLE `DESIRED_FEATURE` 
DROP INDEX `DES_FEAT_PFEAT` ;

ALTER TABLE `INVOICE_ITEM` 
DROP FOREIGN KEY `INVOICE_ITEM_ibfk_6`;
ALTER TABLE `INVOICE_ITEM` 
DROP INDEX `INVCE_ITM_PRDFT` ;

ALTER TABLE `PRODUCT_FEATURE_APPL_ATTR` 
DROP FOREIGN KEY `PRODUCT_FEATURE_APPL_ATTR_ibfk_2`;
ALTER TABLE `PRODUCT_FEATURE_APPL_ATTR` 
DROP INDEX `PROD_FAPPA_FEATURE` ;

ALTER TABLE `PRODUCT_FEATURE_APPL` 
DROP FOREIGN KEY `PRODUCT_FEATURE_APPL_ibfk_1`;
ALTER TABLE `PRODUCT_FEATURE_APPL` 
DROP INDEX `PROD_FAPPL_FEATURE` ;

ALTER TABLE `PRODUCT_FEATURE_DATA_RESOURCE` 
DROP FOREIGN KEY `PRODUCT_FEATURE_DATA_RESOURCE_ibfk_2`;
ALTER TABLE `PRODUCT_FEATURE_DATA_RESOURCE` 
DROP INDEX `PFEAT_DR_FEATURE` ;

ALTER TABLE `PRODUCT_FEATURE_GROUP_APPL` 
DROP FOREIGN KEY `PRODUCT_FEATURE_GROUP_APPL_ibfk_1`;
ALTER TABLE `PRODUCT_FEATURE_GROUP_APPL` 
DROP INDEX `PROD_FGAPP_FEATURE` ;

ALTER TABLE `PRODUCT_FEATURE_IACTN` 
DROP FOREIGN KEY `PRODUCT_FEATURE_IACTN_ibfk_2`,
DROP FOREIGN KEY `PRODUCT_FEATURE_IACTN_ibfk_1`;
ALTER TABLE `PRODUCT_FEATURE_IACTN` 
DROP INDEX `PROD_FICTN_AFEAT` ;

ALTER TABLE `PRODUCT_MANUFACTURING_RULE` 
DROP FOREIGN KEY `PRODUCT_MANUFACTURING_RULE_ibfk_1`;
ALTER TABLE `PRODUCT_MANUFACTURING_RULE` 
DROP INDEX `PRODUCT_FEAT` ;

ALTER TABLE `QUOTE_ITEM` 
DROP FOREIGN KEY `QUOTE_ITEM_ibfk_4`;
ALTER TABLE `QUOTE_ITEM` 
DROP INDEX `QUOTE_ITM_PFEAT` ;

ALTER TABLE `SHIPMENT_ITEM_FEATURE` 
DROP FOREIGN KEY `SHIPMENT_ITEM_FEATURE_ibfk_1`;
ALTER TABLE `SHIPMENT_ITEM_FEATURE` 
DROP INDEX `SHPMNT_ITFT_FEAT` ;

ALTER TABLE `SUPPLIER_PRODUCT_FEATURE` 
DROP FOREIGN KEY `SUPPLIER_PRODUCT_FEATURE_ibfk_1`;
ALTER TABLE `SUPPLIER_PRODUCT_FEATURE` 
DROP INDEX `SUPPL_FEAT_FEAT` ;


TRUNCATE TABLE PRODUCT_FEATURE;

ALTER TABLE `PRODUCT_FEATURE` 
ADD COLUMN `ID` INT(11) NOT NULL AUTO_INCREMENT FIRST,
DROP PRIMARY KEY,
ADD PRIMARY KEY (`ID`, `PRODUCT_FEATURE_ID`);


INSERT INTO `PRODUCT_FEATURE`
(
`PRODUCT_FEATURE_ID`,
`PRODUCT_FEATURE_TYPE_ID`,
`PRODUCT_FEATURE_CATEGORY_ID`,
`DESCRIPTION`,
`UOM_ID`,
`NUMBER_SPECIFIED`,
`DEFAULT_AMOUNT`,
`DEFAULT_SEQUENCE_NUM`,
`ABBREV`,
`ID_CODE`,
`LAST_UPDATED_STAMP`,
`LAST_UPDATED_TX_STAMP`,
`CREATED_STAMP`,
`CREATED_TX_STAMP`,
`PFT_ID`,
`CREATED_DATE`,
`CREATED_USER`,
`UPDATED_DATE`,
`UPDATED_USER`)
SELECT `PRODUCT_FEATURE_ID`,
`PRODUCT_FEATURE_TYPE_ID`,
`PRODUCT_FEATURE_CATEGORY_ID`,
`DESCRIPTION`,
`UOM_ID`,
`NUMBER_SPECIFIED`,
`DEFAULT_AMOUNT`,
`DEFAULT_SEQUENCE_NUM`,
`ABBREV`,
`ID_CODE`,
`LAST_UPDATED_STAMP`,
`LAST_UPDATED_TX_STAMP`,
`CREATED_STAMP`,
`CREATED_TX_STAMP`,
`PFT_ID`,
`CREATED_DATE`,
`CREATED_USER`,
`UPDATED_DATE`,
`UPDATED_USER` FROM PRODUCT_FEATURE_BACk;

CREATE TABLE PRODUCT_CATEGORY_TYPE_BACk LIKE PRODUCT_CATEGORY_TYPE; 
INSERT PRODUCT_CATEGORY_TYPE_BACk SELECT * FROM PRODUCT_CATEGORY_TYPE;

ALTER TABLE `PRODUCT_CATEGORY` 
DROP FOREIGN KEY `PRODUCT_CATEGORY_ibfk_1`;
ALTER TABLE `PRODUCT_CATEGORY` 
DROP INDEX `PROD_CTGRY_PARENT`;

ALTER TABLE `PRODUCT_CATEGORY_TYPE_ATTR` 
DROP FOREIGN KEY `PRODUCT_CATEGORY_TYPE_ATTR_ibfk_1`;

ALTER TABLE `PRODUCT_CATEGORY` 
DROP FOREIGN KEY `PRODUCT_CATEGORY_ibfk_2`;
ALTER TABLE `PRODUCT_CATEGORY` 
DROP INDEX `PROD_CTGRY_TYPE` ;

ALTER TABLE `PRODUCT_CATEGORY_TYPE` 
DROP FOREIGN KEY `PRODUCT_CATEGORY_TYPE_ibfk_1`;
ALTER TABLE `PRODUCT_CATEGORY_TYPE` 
DROP INDEX `PROD_CTGRY_TYPEPAR` ;


TRUNCATE TABLE PRODUCT_CATEGORY_TYPE;

ALTER TABLE `PRODUCT_CATEGORY_TYPE` 
ADD COLUMN `ID` INT(11) NOT NULL AUTO_INCREMENT FIRST,
DROP PRIMARY KEY,
ADD PRIMARY KEY (`ID`, `PRODUCT_CATEGORY_TYPE_ID`);

INSERT INTO `PRODUCT_CATEGORY_TYPE`
(
`PRODUCT_CATEGORY_TYPE_ID`,
`PARENT_TYPE_ID`,
`HAS_TABLE`,
`DESCRIPTION`,
`LAST_UPDATED_STAMP`,
`LAST_UPDATED_TX_STAMP`,
`CREATED_STAMP`,
`CREATED_TX_STAMP`,
`CREATED_DATE`,
`CREATED_USER`,
`UPDATED_DATE`,
`UPDATED_USER`)
select `PRODUCT_CATEGORY_TYPE_ID`,
`PARENT_TYPE_ID`,
`HAS_TABLE`,
`DESCRIPTION`,
`LAST_UPDATED_STAMP`,
`LAST_UPDATED_TX_STAMP`,
`CREATED_STAMP`,
`CREATED_TX_STAMP`,
`CREATED_DATE`,
`CREATED_USER`,
`UPDATED_DATE`,
`UPDATED_USER` FROM PRODUCT_CATEGORY_TYPE_BACk;


CREATE TABLE PRODUCT_CATEGORY_BACk LIKE PRODUCT_CATEGORY; 
INSERT PRODUCT_CATEGORY_BACk SELECT * FROM PRODUCT_CATEGORY;

ALTER TABLE `AGREEMENT_CATEGORY_APPL` 
DROP FOREIGN KEY `AGREEMENT_CATEGORY_APPL_ibfk_2`;
ALTER TABLE `AGREEMENT_CATEGORY_APPL` 
DROP INDEX `AGRMNT_PCAT_CAT` ;

ALTER TABLE `AGREEMENT_TERM` 
DROP FOREIGN KEY `AGREEMENT_TERM_ibfk_7`;
ALTER TABLE `AGREEMENT_TERM` 
DROP INDEX `AGRTERM_PRODCAT` ;

ALTER TABLE `MARKET_INTEREST` 
DROP FOREIGN KEY `MARKET_INTEREST_ibfk_1`;

ALTER TABLE `PARTY_NEED` 
DROP FOREIGN KEY `PARTY_NEED_ibfk_3`;
ALTER TABLE `PARTY_NEED` 
DROP INDEX `PARTY_NEED_PCAT` ;

ALTER TABLE `PRODUCT_CATEGORY_ATTRIBUTE` 
DROP FOREIGN KEY `PRODUCT_CATEGORY_ATTRIBUTE_ibfk_1`;

ALTER TABLE `PRODUCT_CATEGORY_CONTENT` 
DROP FOREIGN KEY `PRODUCT_CATEGORY_CONTENT_ibfk_2`;

ALTER TABLE `PRODUCT_CATEGORY_GL_ACCOUNT` 
DROP FOREIGN KEY `PRODUCT_CATEGORY_GL_ACCOUNT_ibfk_2`;

ALTER TABLE `PRODUCT_CATEGORY_LINK` 
DROP FOREIGN KEY `PRODUCT_CATEGORY_LINK_ibfk_1`;

ALTER TABLE `PRODUCT_CATEGORY_MEMBER` 
DROP FOREIGN KEY `PRODUCT_CATEGORY_MEMBER_ibfk_1`;
ALTER TABLE `PRODUCT_CATEGORY_MEMBER` 
DROP INDEX `PROD_CMBR_CATEGORY` ;

ALTER TABLE `PRODUCT_CATEGORY_ROLE` 
DROP FOREIGN KEY `PRODUCT_CATEGORY_ROLE_ibfk_1`;

ALTER TABLE `PRODUCT_CATEGORY_ROLLUP` 
DROP FOREIGN KEY `PRODUCT_CATEGORY_ROLLUP_ibfk_2`,
DROP FOREIGN KEY `PRODUCT_CATEGORY_ROLLUP_ibfk_1`;
ALTER TABLE `PRODUCT_CATEGORY_ROLLUP` 
DROP INDEX `PROD_CRLP_PARENT` ;

ALTER TABLE `PRODUCT_FEATURE_CATEGORY_APPL` 
DROP FOREIGN KEY `PRODUCT_FEATURE_CATEGORY_APPL_ibfk_1`;

ALTER TABLE `PRODUCT_FEATURE_CAT_GRP_APPL` 
DROP FOREIGN KEY `PRODUCT_FEATURE_CAT_GRP_APPL_ibfk_1`;

ALTER TABLE `PRODUCT` 
DROP FOREIGN KEY `PRODUCT_ibfk_10`;
ALTER TABLE `PRODUCT` 
DROP INDEX `PROD_PRIMARY_CAT` ;

ALTER TABLE `PRODUCT_PROMO_CATEGORY` 
DROP FOREIGN KEY `PRODUCT_PROMO_CATEGORY_ibfk_2`;
ALTER TABLE `PRODUCT_PROMO_CATEGORY` 
DROP INDEX `PROD_PRCAT_PRCAT` ;

ALTER TABLE `PROD_CATALOG_CATEGORY` 
DROP FOREIGN KEY `PROD_CATALOG_CATEGORY_ibfk_2`;
ALTER TABLE `PROD_CATALOG_CATEGORY` 
DROP INDEX `PROD_CC_CATEGORY` ;

ALTER TABLE `SALES_FORECAST_DETAIL` 
DROP FOREIGN KEY `SALES_FORECAST_DETAIL_ibfk_1`;
ALTER TABLE `SALES_FORECAST_DETAIL` 
DROP INDEX `SALES4CDTL_PCTGRY` ;

ALTER TABLE `SUBSCRIPTION` 
DROP FOREIGN KEY `SUBSCRIPTION_ibfk_12`;
ALTER TABLE `SUBSCRIPTION` 
DROP INDEX `SUBSC_PROD_CAT` ;

ALTER TABLE `TAX_AUTHORITY_CATEGORY` 
DROP FOREIGN KEY `TAX_AUTHORITY_CATEGORY_ibfk_1`;
ALTER TABLE `TAX_AUTHORITY_CATEGORY` 
DROP INDEX `TAXAUTHCAT_CAT` ;

ALTER TABLE `TAX_AUTHORITY_RATE_PRODUCT` 
DROP FOREIGN KEY `TAX_AUTHORITY_RATE_PRODUCT_ibfk_1`;
ALTER TABLE `TAX_AUTHORITY_RATE_PRODUCT` 
DROP INDEX `TAXAUTHRTEP_PCAT` ;


TRUNCATE TABLE PRODUCT_CATEGORY;

ALTER TABLE `PRODUCT_CATEGORY` 
ADD COLUMN `ID` INT(11) NOT NULL AUTO_INCREMENT FIRST,
DROP PRIMARY KEY,
ADD PRIMARY KEY (`ID`, `PRODUCT_CATEGORY_ID`);

INSERT INTO `PRODUCT_CATEGORY`
(`PRODUCT_CATEGORY_ID`,
`PRODUCT_CATEGORY_TYPE_ID`,
`PRIMARY_PARENT_CATEGORY_ID`,
`CATEGORY_NAME`,
`DESCRIPTION`,
`LONG_DESCRIPTION`,
`CATEGORY_IMAGE_URL`,
`LINK_ONE_IMAGE_URL`,
`LINK_TWO_IMAGE_URL`,
`DETAIL_SCREEN`,
`SHOW_IN_SELECT`,
`LAST_UPDATED_STAMP`,
`LAST_UPDATED_TX_STAMP`,
`CREATED_STAMP`,
`CREATED_TX_STAMP`,
`PCT_ID`,
`CREATED_DATE`,
`CREATED_USER`,
`UPDATED_DATE`,
`UPDATED_USER`)
select `PRODUCT_CATEGORY_ID`,
`PRODUCT_CATEGORY_TYPE_ID`,
`PRIMARY_PARENT_CATEGORY_ID`,
`CATEGORY_NAME`,
`DESCRIPTION`,
`LONG_DESCRIPTION`,
`CATEGORY_IMAGE_URL`,
`LINK_ONE_IMAGE_URL`,
`LINK_TWO_IMAGE_URL`,
`DETAIL_SCREEN`,
`SHOW_IN_SELECT`,
`LAST_UPDATED_STAMP`,
`LAST_UPDATED_TX_STAMP`,
`CREATED_STAMP`,
`CREATED_TX_STAMP`,
`PCT_ID`,
`CREATED_DATE`,
`CREATED_USER`,
`UPDATED_DATE`,
`UPDATED_USER` FROM PRODUCT_CATEGORY_BACk;


ALTER TABLE `PRODUCT_CATEGORY_ROLLUP` 
ADD COLUMN `ID` INT(11) NOT NULL AUTO_INCREMENT FIRST,
ADD COLUMN `CREATED_DATE` DATETIME NULL AFTER `CREATED_TX_STAMP`,
ADD COLUMN `CREATED_USER` VARCHAR(45) NULL AFTER `CREATED_DATE`,
ADD COLUMN `UPDATED_DATE` DATETIME NULL AFTER `CREATED_USER`,
ADD COLUMN `UPDATED_USER` VARCHAR(45) NULL AFTER `UPDATED_DATE`,
ADD COLUMN `P_C_ID` INT(11) NULL AFTER `CREATED_TX_STAMP`,
ADD COLUMN `P_P_C_ID` INT(11) NULL AFTER `P_C_ID`,
DROP PRIMARY KEY,
ADD PRIMARY KEY (`ID`, `PRODUCT_CATEGORY_ID`, `PARENT_PRODUCT_CATEGORY_ID`, `FROM_DATE`);


